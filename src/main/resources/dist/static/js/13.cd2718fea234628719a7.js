webpackJsonp([13],{"0XL5":function(e,t){},RdUm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),o=a("mvHQ"),s=a.n(o),i=a("exGp"),c=a.n(i),d={name:"Skip",data:function(){return{userInfo:{account:"admin",password:"admin"},imageUrl:"",loading:!0}},created:function(){this.login()},methods:{login:function(){var e=this;return c()(r.a.mark(function t(){var a,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/user/loginPC",{userName:e.userInfo.account,password:e.userInfo.password});case 3:a=t.sent,n=a.data,console.log("登录成功",n),200===n.code?(localStorage.setItem("token",n.data.tokenInfo.tokenValue),localStorage.setItem("user_info",s()(n.data.user)),localStorage.setItem("mapInfo",s()({x:0,y:0,scale:1})),e.getDevice()):e.$message.error(n.msg),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},getDevice:function(){var e=this;return c()(r.a.mark(function t(){var a,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/webApi/getDevice",{ip:e.$route.query.ip});case 3:200==(a=t.sent).data.code?(n=a.data.data,e.loading=!1,e.$router.push({name:"deviceDetail",params:{name:n.deviceName,deviceId:n.deviceId,deviceTypeId:n.deviceTypeId}})):(e.$message.error(a.data.msg),e.$router.push({name:"home"})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()}}},u={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticStyle:{width:"100vw",height:"100vh"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}})},staticRenderFns:[]};var l=a("VU/8")(d,u,!1,function(e){a("0XL5")},"data-v-1b37b04b",null);t.default=l.exports}});
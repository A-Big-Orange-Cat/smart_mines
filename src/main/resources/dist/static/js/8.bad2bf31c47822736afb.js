webpackJsonp([8],{VcRw:function(e,a){},x6kb:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("Xxa5"),s=t.n(r),n=t("exGp"),o=t.n(n),c={name:"DeviceParamManage",data:function(){return{tableData:[],paramValue:""}},created:function(){this.queryDeviceParam()},methods:{goBack:function(){this.$router.go(-1)},editParam:function(e){this.paramValue=e.value,e.showEdit=!0},queryDeviceParam:function(){var e=this;return o()(s.a.mark(function a(){var t;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$http.post("/deviceType/queryPByTypeId",{deviceTypeId:Number(e.$route.params.deviceTypeId)});case 3:200==(t=a.sent).data.code?(e.tableData=t.data.data,e.tableData.map(function(a){e.$set(a,"showEdit",!1)})):e.$message.error(t.data.msg),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}},a,e,[[0,7]])}))()},updateDeviceParam:function(e){var a=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.$http.post("/deviceType/updatePByTypeId",{deviceTypeId:Number(a.$route.params.deviceTypeId),deviceTypeParameterId:Number(e.deviceTypeParameterId),value:a.paramValue});case 3:r=t.sent,a.$set(e,"showEdit",!1),a.queryDeviceParam(),200==r.data.code?a.$message.success("编辑成功"):a.$message.error(r.data.msg),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,a,[[0,9]])}))()}}},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticStyle:{height:"100%"}},[t("div",{staticClass:"box-card"},[t("el-page-header",{attrs:{content:e.$route.params.deviceTypeName},on:{back:e.goBack}})],1),e._v(" "),t("div",{staticClass:"box-table"},[t("el-table",{attrs:{data:e.tableData,border:!0,stripe:!0,height:"calc(100% - 70px)"}},[t("el-table-column",{attrs:{type:"index",width:"80",label:"序号",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"deviceTypeParameterId",label:"参数ID",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"deviceTypeParameterName",label:"参数名",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"value",label:"参数值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{directives:[{name:"show",rawName:"v-show",value:!a.row.showEdit,expression:"!scope.row.showEdit"}]},[e._v(e._s(a.row.value))]),e._v(" "),t("el-input-number",{directives:[{name:"show",rawName:"v-show",value:a.row.showEdit,expression:"scope.row.showEdit"}],attrs:{"controls-position":"right","step-strictly":!0,min:1},model:{value:e.paramValue,callback:function(a){e.paramValue=a},expression:"paramValue"}})]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"sortNumber",label:"排序序号",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{directives:[{name:"show",rawName:"v-show",value:!a.row.showEdit,expression:"!scope.row.showEdit"}],attrs:{type:"text",size:"small"},on:{click:function(t){return e.editParam(a.row)}}},[e._v("编辑")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:a.row.showEdit,expression:"scope.row.showEdit"}],attrs:{type:"text",size:"small"},on:{click:function(t){return e.updateDeviceParam(a.row)}}},[e._v("完成")])]}}])})],1)],1)])},staticRenderFns:[]};var l=t("VU/8")(c,i,!1,function(e){t("VcRw")},"data-v-70048c9f",null);a.default=l.exports}});